<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title data-i18n-key="popupTitle">kurl - YOURLS Shortener</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="popup-body">

    <div id="setup-message" style="display:none;">
        <h3 data-i18n-key="setupTitle">Setup Required</h3>
        <p data-i18n-key="setupMessage">Please configure your YOURLS instance URL and API token in the settings.</p>
        <button id="btnGoToOptions" data-i18n-key="setupBtnGoToOptions">Open Settings</button>
    </div>

    <div id="main-content">
        <a href="#" id="open-settings-link" title="Settings">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.44,0.17-0.48,0.41L9.22,5.7C8.63,5.94,8.1,6.26,7.6,6.64L5.21,5.68C4.99,5.61,4.74,5.68,4.63,5.88L2.71,9.2 c-0.12,0.21-0.07,0.47,0.12,0.61L4.86,11c-0.05,0.32-0.07,0.63-0.07,0.94s0.02,0.62,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.38,2.9 c0.04,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.48-0.41l0.38-2.9c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0.01,0.59-0.22l1.92-3.32c0.12-0.21,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg>
        </a>
        <h3 data-i18n-key="popupTitle">kurl - YOURLS Shortener</h3>

        <div>
            <label for="longUrl" data-i18n-key="popupLongUrlLabel">Long URL</label>
            <input type="text" id="longUrl">
        </div>

        <details>
            <summary data-i18n-key="advancedOptionsLabel">Advanced Options</summary>
            <div>
                <label for="keyword" data-i18n-key="popupKeywordLabel">Custom keyword (optional)</label>
                <input type="text" id="keyword">
            </div>
            <div>
                <label for="title" data-i18n-key="titleLabel">Custom Title (optional)</label>
                <input type="text" id="title">
            </div>
        </details>

        <p><button id="btnShorten" data-i18n-key="popupBtnShorten">Shorten</button></p>

        <div id="result-area" style="display:none;">
            <hr>
            <label for="shortUrl" data-i18n-key="popupShortUrlLabel">Short URL</label>
            <input type="text" id="shortUrl" readonly>
            <div class="result-actions">
                <button id="btnCopyClose" data-i18n-key="popupBtnCopyClose">Copy & Close</button>
                <button id="btnQrCode" data-i18n-key="popupBtnQrCode">QR Code</button>
                <button id="btnDownloadQr" data-i18n-key="popupBtnDownloadQr" style="display: none;">Download QR code</button>
            </div>
            <div id="qrcode-display" style="display: none; justify-content: center; padding-top: 10px;"></div>
        </div>

        <hr>

        <div class="stats-controls">
            <label for="statsInput" data-i18n-key="popupStatsLabel">Stats for (short URL or keyword)</label>
            <input type="text" id="statsInput">
            <div class="stats-buttons">
                <button id="btnStats" data-i18n-key="popupBtnStats">Stats</button>
                <button id="btnDelete" data-i18n-key="popupBtnDelete" disabled>Delete</button>
                <button id="btnDetails" data-i18n-key="popupBtnToggleJson" style="visibility: hidden;">Toggle JSON</button>
            </div>
        </div>

        <pre id="json" style="display: none;"></pre>
        <p id="msg" class="info"></p>
    </div>

    <script src="JS/polyfill.js"></script>
    <script src="JS/qrcode.min.js"></script>
    <script src="JS/helpers.js"></script>
    <script src="JS/popup.js"></script>

</body>
</html>
